<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <title>Easy Batch &bull; User Guide</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Mahmoud Ben Hassine">
    <meta name="description" content="open source lightweight batch processing framework for Java">
    <meta name="keyword" content="java, batch, batch processing, open source">

    <!-- Bootstrap CSS -->
    <link href="../css/bootstrap.min.css" rel="stylesheet">

    <!-- Font Awesome -->
    <link href="../css/font-awesome.min.css" rel="stylesheet">

    <!-- Plugins -->
    <link href="../css/highlight/default.css" media="screen" rel="stylesheet" />
    <link href="../css/clingify/clingify.css" rel="stylesheet">

    <!-- Theme style -->
    <link href="../css/theme-style.min.css" rel="stylesheet">

    <!--Your custom colour override-->
    <link href="../css/colour-blue.css" id="colour-scheme" rel="stylesheet">

    <!-- Your custom override -->
    <link href="../css/custom-style.css" rel="stylesheet">

    <!-- HTML5 shiv & respond.js for IE6-8 support of HTML5 elements & media queries -->
    <!--[if lt IE 9]>
    <script src="../js/plugins/html5shiv/html5shiv.js"></script>
    <script src="../js/plugins/respond/respond.min.js"></script>
    <![endif]-->

    <link rel="shortcut icon" href="../img/misc/gear.ico">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700,300|Rambla|Calligraffitti' rel='stylesheet' type='text/css'>

    <script type="text/javascript">

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-35599235-1']);
        _gaq.push(['_trackPageview']);

        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();

    </script>

</head>
<body class="page page-index-static">

<a href="#content" class="sr-only">Skip to content</a>
<div id="navigation" class="wrapper">
    <div class="navbar-static-top">

        <!--Header & Branding region-->
        <div class="header">
            <div class="header-inner container">
                <div class="row">
                    <div class="col-md-8">
                        <!--branding/logo-->
                        <a class="navbar-brand" href="../index.html" title="Home">
                            <h1><span>Easy</span>Batch</h1>
                        </a>
                        <div class="slogan">Batch processing with Java made easy</div>
                    </div>
                    <div class="col-md-4">
                        <!--social media icons-->
                        <div class="social-media">
                            <a href="https://github.com/EasyBatch/easybatch-framework" title="View on GitHub" target="_blank"><i class="fa fa-github"></i></a>
                            <a href="https://twitter.com/intent/tweet?url=http://www.easybatch.org/&text=Easy%20Batch:%20batch%20processing%20with%20Java%20made%20easy&via=md_benhassine" title="Share on Twitter" target="_blank"><i class="fa fa-twitter"></i></a>
                            <a href="https://plus.google.com/share?url=http://www.easybatch.org&text=Easy%20Batch:%20batch%20processing%20with%20Java%20made%20easy" title="Share on Google+" target="_blank"><i class="fa fa-google-plus"></i></a>
                            <a href="https://gitter.im/EasyBatch/easybatch-framework" title="Chat on Gitter" target="_blank"><i class="fa fa-comment"></i></a>
                        </div>
                    </div>

                </div>
            </div>
        </div>

        <div class="container" data-toggle="clingify">
            <div class="navbar">
                <!--
              mobile collapse menu button
              - data-toggle="toggle" = default BS menu
              - data-toggle="jpanel-menu" = jPanel Menu
              -->
                <a class="navbar-btn" data-toggle="jpanel-menu" data-target=".navbar-collapse"> <span class="bar"></span> <span class="bar"></span> <span class="bar"></span> <span class="bar"></span> </a>

                <!--user menu-->
                <div class="user-menu pull-right"> <a href="https://oss.sonatype.org/content/groups/public/org/easybatch/" title="Download Easy Batch from Maven central repository" class="btn btn-primary" target="_blank"><i class="fa fa-download"></i> version : 3.0.0</a> </div>

                <!--everything within this div is collapsed on mobile-->
                <div class="navbar-collapse collapse">

                    <!--main navigation-->
                    <ul class="nav navbar-nav">
                        <li><a href="../index.html"><i class="fa fa-home fa-lg"></i> Home</a></li>
                        <li class="dropdown"> <a href="#" class="dropdown-toggle menu-item" id="features-drop" data-toggle="dropdown"><i class="fa fa-book fa-lg" ></i> Documentation +</a>
                            <ul class="dropdown-menu" role="menu" aria-labelledby="about-drop">
                                <li role="presentation"><a role="menuitem" href="../documentation/getting-started.html" class="menu-item"><i class="fa fa-play fa-lg"></i> Getting started</a></li>
                                <li role="presentation"><a role="menuitem" href="../documentation/architecture.html" tabindex="-1" class="menu-item"><i class="fa fa-flask fa-lg"></i> Architecture</a></li>
                                <li role="presentation"><a role="menuitem" href="../documentation/user-guide.html" tabindex="-1" class="menu-item"><i class="fa fa-book fa-lg"></i> User guide</a></li>
                                <li role="presentation"><a role="menuitem" href="../api/index.html" tabindex="-1" class="menu-item" target="_blank"><i class="fa fa-folder-open fa-lg"></i> API docs</a></li>
                                <li role="presentation"><a role="menuitem" href="../documentation/faq.html" tabindex="-1" class="menu-item"><i class="fa fa-question-circle fa-lg"></i> FAQs</a></li>
                                <li role="presentation"><a role="menuitem" href="https://speakerdeck.com/benas/easy-batch" target="_blank" tabindex="-1" class="menu-item"><i class="fa fa-video-camera fa-lg"></i> Presentation slides</a></li>
                            </ul>
                        </li>
                        <li><a href="../tutorials/index.html" class="menu-item"><i class="fa fa-code fa-lg"></i> Tutorials</a></li>
                        <li class="dropdown"> <a href="" class="dropdown-toggle" id="about-drop" data-toggle="dropdown"><i class="fa fa-thumbs-o-up fa-lg"></i> Get involved +</a>
                            <ul class="dropdown-menu" role="menu" aria-labelledby="about-drop">
                                <li role="presentation"><a role="menuitem" href="https://github.com/EasyBatch/easybatch-framework" target="_blank" tabindex="-1" class="menu-item"><i class="fa fa-github fa-lg"></i> Source repository</a></li>
                                <li role="presentation"><a role="menuitem" href="https://github.com/EasyBatch/easybatch-framework/issues" target="_blank" tabindex="-1" class="menu-item"><i class="fa fa-bug fa-lg"></i> Issue tracker</a></li>
                            </ul>
                        </li>

                    </ul>
                </div>
                <!--/.navbar-collapse -->
            </div>
        </div>
    </div>
</div>

<div id="content">
    <div class="container">

        <!-- breadcrumb -->
<ul class="breadcrumb">
    <li><a href="../index.html">Home</a></li>
    
    
    <li><a href="../documentation/index.html">Documentation</a></li>
    
    <li class="active">User Guide</li>
</ul>

        <div class="row">
            <div class="col-md-9">

                <h1 class="title-divider"><span>User Guide</span></h1>

                        <p>This guide will walk you step-by-step through Easy Batch APIs and will help you to understand how to use them efficiently.</p>

<div class="tabbable">
    <ul class="nav nav-tabs">
        <li role="presentation" class="active"><a href="#generalities" data-toggle="tab">Generalities</a></li>
        <li role="presentation"><a href="#reading" data-toggle="tab">Readers</a></li>
        <li role="presentation"><a href="#filtering" data-toggle="tab">Filters</a></li>
        <li role="presentation"><a href="#mapping" data-toggle="tab">Mappers</a></li>
        <li role="presentation"><a href="#validation" data-toggle="tab">Validating data</a></li>
        <li role="presentation"><a href="#processing" data-toggle="tab">Processing data</a></li>
        <li role="presentation"><a href="#reporting" data-toggle="tab">Reporting</a></li>
        <li role="presentation"><a href="#miscellaneous" data-toggle="tab">Miscellaneous</a></li>
    </ul>
    <div class="tab-content">
        <div class="tab-pane fade active in" id="generalities">
            <h2 id="1">1. The batch engine</h2>

<h3 id="1.1">1.1 Creating a batch engine</h3>

<p>Creating a batch engine is straightforward and can be done through the <code><em>EngineBuilder</em></code> API:</p>

<div class="bs-callout bs-callout-code">
<pre><code class="java">Engine engine = new EngineBuilder().build();</code></pre>
</div>

<p>The engine builder API is the main entry point to configure and create batch engine instances.</p>

<h3 id="1.2">1.2 Running the batch engine</h3>

<p>Once you have created a batch engine instance, you can run it simply as follows:</p>

<div class="bs-callout bs-callout-code">
    <pre><code class="java">engine.call();</code></pre>
</div>

<h3 id="1.3">1.3 Enabling strict mode</h3>

<p>Easy Batch strict mode is a parameter that allows you to abort execution on first error (mapping, validating or processing exception).
    To enable strict mode, you can use the following snippet:</p>

<div class="bs-callout bs-callout-code">
<pre><code class="java">Engine engine = new EngineBuilder()
    <strong>.strictMode(true)</strong>
    .build();</code></pre>
</div>

<p>Strict mode is disabled by default.</p>

<h3 id="1.4">1.4 Enabling silent mode</h3>

<p>Easy Batch silent mode is a parameter that allows you to mute all loggers.
    To enable silent mode, you can use the following snippet:</p>

<div class="bs-callout bs-callout-code">
<pre><code class="java">Engine engine = new EngineBuilder()
    <strong>.silentMode(true)</strong>
    .build();</code></pre>
</div>

<p>Silent mode is disabled by default.</p>

<h3 id="1.5">1.5 Enabling JMX monitoring</h3>

<p>Easy Batch allows you to monitor job execution and progress at runtime using JMX.
    The JMX MBean named <code><em>org.easybatch.core.jmx:type=EasyBatchMonitorMBean</em></code>
    exposes the following attributes:</p>

<ul>
    <li>The batch start and end times</li>
    <li>The data source being processed</li>
    <li>The total number of records to process</li>
    <li>The total number of filtered, ignored, rejected, error and successfully processed records</li>
    <li>The current record being processed</li>
    <li>And the execution progress</li>
</ul>

<p>In order to register this JMX MBean at application's startup, you should enable it using the following API:</p>

<div class="bs-callout bs-callout-code">
<pre><code class="java">Engine engine = new EngineBuilder()
    <strong>.enableJMX(true)</strong>
    .build();</code></pre>
</div>

<p>You can then use any standard JMX compliant tool such as <a href="http://visualvm.java.net/" target="_blank">VisualVM</a> to visualize monitoring attributes.</p>

<p>JMX monitoring is disabled by default. You can find a complete tutorial about this feature in the
            <a href="../tutorials/jmx.html" target="_blank">JMX tutorial</a>.</p>

<h2>2. The <em>Record</em> abstraction</h2>

<p>Easy Batch <strong>streams</strong> data record by record from the data source.
    Depending on the data source type, a record can be a line in a flat file, a tag in a XML file,
    a row in a database table, a file in a folder, etc.</p>
<p>Here are some examples of records as seen by Easy Batch:</p>

<div class="row">
    <div class="col-md-10 col-md-offset-1">
        <p class="pull-center"><img class="ebi" src="../img/eb/record-samples.jpg"/></p>
    </div>
</div>

        <p>The generic <code><em>Record</em></code> interface is an abstraction of all record types:</p>

<div class="bs-callout bs-callout-code">
<pre><code class="java">public interface Record&lt;P&gt; {

    /**
    * Return the header of the record.
    * @return the record's header.
    */
    Header getHeader();

    /**
    * Return the payload of the record.
    * @return the record's payload.
    */
    P getPayload();

}</code></pre>
</div>

<p>A record has a header and a payload. The record header contains various metadata about the record such as the data source from which
    the record has been read, its physical number, etc.. The record payload is the raw content of the record which is generic since its depends on
    the data source type.
    There are several implementations of the <code><em>Record</em></code> interface provided by Easy Batch to represent different type of records:</p>

<div class="row">
    <div class="col-md-10 col-md-offset-1">
        <p class="pull-center"><img class="ebi" src="../img/eb/record-uml.jpg"/></p>
    </div>
</div>

<p>Note that the record payload can be of any type, so that it can represent any type of input data (textual or not).</p>

        </div>
        <div class="tab-pane fade" id="reading">
            <h2 id="2">2. Reading records</h2>

<p>To read records from a data source, you should register an implementation of the <code><em>RecordReader</em></code> interface:</p>

<div class="bs-callout bs-callout-code">
<pre><code class="java">Engine engine = new EngineBuilder()
    <strong>.reader(new MyRecordReader(myDataSource))</strong>
    .build();</code></pre>
</div>

<p>Easy Batch comes with built-in record readers that allow you to read records from a variety of data sources:</p>

<div class="row">
    <div class="col-md-10 col-md-offset-1">
        <p class="pull-center"><img class="ebi" src="../img/eb/reader-uml.jpg"/></p>
    </div>
</div>

<p>These readers allow you to read data form:</p>
<ul>
    <li>flat files (delimited and fixed length)</li>
    <li>xml and json files</li>
    <li>in-memory strings</li>
    <li>databases</li>
    <li>JMS queues</li>
    <li>Lists and Queues of objects</li>
    <li>and standard input</li>
</ul>

<h3>2.1 Reading data from flat files</h3>

<p>The <code><em>FlatFileRecordReader</em></code> allows you to read records from a flat file.</p>

<p>First you need to add the <code><em>easybatch-flatfile</em></code> module to your dependencies:</p>

<div class="bs-callout bs-callout-code">
<pre><code class="xml">&lt;dependency&gt;
    &lt;groupId&gt;org.easybatch&lt;/groupId&gt;
    &lt;artifactId&gt;easybatch-flatfile&lt;/artifactId&gt;
    &lt;version&gt;3.0.0&lt;/version&gt;
&lt;/dependency&gt;</code></pre>
</div>

<p>Then, you can register the <code><em>FlatFileRecordReader</em></code> using the <code><em>EngineBuilder</em></code>:</p>

<div class="bs-callout bs-callout-code">
<pre><code class="java">Engine engine = new EngineBuilder()
    <strong>.reader(new FlatFileRecordReader(myFlatFile))</strong>
    .build();</code></pre>
</div>


<p>The <code><em>FlatFileRecordReader</em></code> produces <code><em>StringRecord</em></code> instances with a string representation of the record as payload.</p>

<h3>2.2 Reading data from xml files</h3>

<p>The <code><em>XmlRecordReader</em></code> allows you to read records from a xml file. It uses the
    <a href="https://www.jcp.org/en/jsr/detail?id=173" target="_blank">Stax</a> API behind the scene to stream records one by one.</p>

<p>Let's consider the following <em>tweets.xml</em> file:</p>

<div class="bs-callout bs-callout-code">
<pre><code class="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;tweets&gt;
    &lt;tweet&gt;
        &lt;id&gt;1&lt;/id&gt;
        &lt;user&gt;foo&lt;/user&gt;
        &lt;message&gt;Hello&lt;/message&gt;
    &lt;/tweet&gt;
    &lt;tweet&gt;
        &lt;id&gt;2&lt;/id&gt;
        &lt;user&gt;bar&lt;/user&gt;
        &lt;message&gt;Hi!&lt;/message&gt;
    &lt;/tweet&gt;
&lt;/tweets&gt;</code></pre>
</div>

<div class="row">

    <div class="col-md-6">
        <p>For Easy Batch the first record is:</p>

        <div class="bs-callout bs-callout-code">
<pre><code class="xml">&lt;tweet&gt;
    &lt;id&gt;1&lt;/id&gt;
    &lt;user&gt;foo&lt;/user&gt;
    &lt;message&gt;Hello&lt;/message&gt;
&lt;/tweet&gt;</code></pre>
        </div>
    </div>

    <div class="col-md-6">
        <p>The second record is:</p>

        <div class="bs-callout bs-callout-code">
<pre><code class="xml">&lt;tweet&gt;
    &lt;id&gt;2&lt;/id&gt;
    &lt;user&gt;bar&lt;/user&gt;
    &lt;message&gt;Hi!&lt;/message&gt;
&lt;/tweet&gt;</code></pre>
        </div>
    </div>

</div>

<p>and so on.. To use the <code><em>XmlRecordReader</em></code>, first you need to add the <code><em>easybatch-xml</em></code> module to your dependencies:</p>

<div class="bs-callout bs-callout-code">
<pre><code class="xml">&lt;dependency&gt;
    &lt;groupId&gt;org.easybatch&lt;/groupId&gt;
    &lt;artifactId&gt;easybatch-xml&lt;/artifactId&gt;
    &lt;version&gt;3.0.0&lt;/version&gt;
&lt;/dependency&gt;</code></pre>
</div>

<p>Then, you can register it with the <code><em>EngineBuilder</em></code>:</p>

<div class="bs-callout bs-callout-code">
<pre><code class="java">Engine engine = new EngineBuilder()
    <strong>.reader(new XmlRecordReader("tweet", new FileInputStream("tweets.xml")))</strong>
    .build();</code></pre>
</div>

<p>You should specify the xml element name and the input xml file.</p>

<p>The <code><em>XmlRecordReader</em></code> produces <code><em>XmlRecord</em></code> instances with a string representation of the record as payload.</p>

<div class="bs-callout bs-callout-warning">
    <p><strong>Hint:</strong> if your XML file in flattened (with no wrapping <em>tweets</em> tag), let's say in this format:</p>
    <p>
        &lt;tweet&gt;&lt;id&gt;1&lt;/id&gt;&lt;user&gt;foo&lt;/user&gt;&lt;message&gt;Hello&lt;/message&gt;&lt;/tweet&gt;<br>
        &lt;tweet&gt;&lt;id&gt;2&lt;/id&gt;&lt;user&gt;bar&lt;/user&gt;&lt;message&gt;Hi&lt;/message&gt;&lt;/tweet&gt;<br>
        ... <br>
        &lt;tweet&gt;&lt;id&gt;1000&lt;/id&gt;&lt;user&gt;baz&lt;/user&gt;&lt;message&gt;Yep&lt;/message&gt;&lt;/tweet&gt;<br>
    </p>
    <p>you can use the <code><em>FlatFileRecordReader</em></code> that will read XML records line by line.</p>
</div>

<h3>2.3 Reading data from Json files</h3>

<p>The <code><em>JsonRecordReader</em></code> allows you to read records from a Json file. It uses the
    <a href="https://www.jcp.org/en/jsr/detail?id=353" target="_blank">JSON-P</a> API behind the scene to stream records one by one.</p>

<p>Let's consider the following <em>tweets.json</em> file:</p>

<div class="bs-callout bs-callout-code">
<pre><code class="json">[
    {
        "id": 1,
        "user": "foo",
        "message": "Hello"
    },
    {
        "id": 2,
        "user": "bar",
        "message": "Hi!"
    }
]</code></pre>
</div>

<div class="row">

    <div class="col-md-6">
        <p>For Easy Batch the first record is:</p>

        <div class="bs-callout bs-callout-code">
<pre><code class="json">{
    "id": 1,
    "user": "foo",
    "message": "Hello"
}</code></pre>
        </div>
    </div>

    <div class="col-md-6">
        <p>The second record is:</p>

        <div class="bs-callout bs-callout-code">
<pre><code class="json">{
    "id": 2,
    "user": "bar",
    "message": "Hi!"
}</code></pre>
        </div>
</div>

</div>

<p>and so on.. To use the <code>JsonRecordReader</code>, first you need to add the <code><em>easybatch-json</em></code> module to your dependencies:</p>

<div class="bs-callout bs-callout-code">
<pre><code class="xml">&lt;dependency&gt;
    &lt;groupId&gt;org.easybatch&lt;/groupId&gt;
    &lt;artifactId&gt;easybatch-json&lt;/artifactId&gt;
    &lt;version&gt;3.0.0&lt;/version&gt;
&lt;/dependency&gt;</code></pre>
</div>

<p>Then, you can register it with the <code><em>EngineBuilder</em></code>:</p>

<div class="bs-callout bs-callout-code">
<pre><code class="java">Engine engine = new EngineBuilder()
    <strong>.reader(new JsonRecordReader("tweets.json"))</strong>
    .build();</code></pre>
</div>

<p> You should specify the input json file at construction time.</p>

<p>The <code><em>JsonRecordReader</em></code> produces <code><em>JsonRecord</em></code> instances with a string representation of the record as payload.</p>

<div class="bs-callout bs-callout-warning">
    <p><strong>Heads up!:</strong> The <code>JsonRecordReader</code> expects an array of JSON objects in the input file: [ {object1}, {object2}, ..., {objectN} ] .</p>
    <p>if your JSON file in flattened (no wrapping array), let's say in this format:</p>
        <p>
            {object1}<br>
            {object2}<br>
            ...      <br>
            {objectN}<br>
        </p>
        <p>you can use the <code><em>FlatFileRecordReader</em></code> that will read JSON records line by line.</p>
</div>

<h3>2.4 Reading data from a database</h3>

<h4>2.4.1. Reading data using the JDBC API</h4>

<p>The <code><em>JdbcRecordReader</em></code> allows you to read records from a database using the
    <a href="http://docs.oracle.com/javase/6/docs/technotes/guides/jdbc/" target="_blank">JDBC</a> API.</p>

<p>To use the JDBC record reader, first you need to add the <code><em>easybatch-jdbc</em></code> module to your dependencies:</p>

<div class="bs-callout bs-callout-code">
<pre><code class="xml">&lt;dependency&gt;
    &lt;groupId&gt;org.easybatch&lt;/groupId&gt;
    &lt;artifactId&gt;easybatch-jdbc&lt;/artifactId&gt;
    &lt;version&gt;3.0.0&lt;/version&gt;
&lt;/dependency&gt;</code></pre>
</div>

<p>Then, you can register it with the <code><em>EngineBuilder</em></code>:</p>

<div class="bs-callout bs-callout-code">
<pre><code class="java">Engine engine = new EngineBuilder()
    <strong>.reader(new JdbcRecordReader(myDatabaseConnection, myQuery))</strong>
    .build();</code></pre>
</div>

<p> When you create a <code>JdbcRecordReader</code>, you should specify the JDBC database connection and the sql query to use to fetch data.</p>

<div class="bs-callout bs-callout-warning">
    <p><strong>Heads up!:</strong> The <code>JdbcRecordReader</code> loads all data fetched by the sql query into a <code>java.sql.ResultSet</code> object.
        You should pay attention to large data sets with the sql query you specify to the <code>JdbcRecordReader</code>. You can specify the maximum number of rows
    to fetch using the <code><em>maxRows</em></code> parameter of the <code><em>JdbcRecordReader</em></code>.</p>

    <p>Easy Batch does not provide a "PagingJdbcRecordReader" because the JDBC API does not provide a vendor-neutral way of doing pagination.
        The SQL syntax differs from one RDBMS to another..</p>
</div>

<h4>2.4.2. Reading data using the Java Persistence API</h4>

<p>The <code><em>JpaRecordReader</em></code> allows you to read records from a database using the
    <a href="http://docs.oracle.com/javaee/6/tutorial/doc/bnbpz.html" target="_blank">Java Persistence API</a>.</p>

<p>To use the JPA record reader, first you need to add the <code><em>easybatch-jpa</em></code> module to your dependencies:</p>

<div class="bs-callout bs-callout-code">
<pre><code class="xml">&lt;dependency&gt;
    &lt;groupId&gt;org.easybatch&lt;/groupId&gt;
    &lt;artifactId&gt;easybatch-jpa&lt;/artifactId&gt;
    &lt;version&gt;3.0.0&lt;/version&gt;
&lt;/dependency&gt;</code></pre>
</div>

<p>Then, you can register it with the <code><em>EngineBuilder</em></code>:</p>

<div class="bs-callout bs-callout-code">
<pre><code class="java">Engine engine = new EngineBuilder()
    <strong>.reader(new JpaRecordReader(myEntityManagerFactory, myQuery, MyObjectType.class))</strong>
    .build();</code></pre>
</div>

<p> When you create a <code>JpaRecordReader</code>, you should specify the <code><em>EntityManagerFactory</em></code> that will be used to create the <code><em>EntityManager</em></code>,
    your JPQL query and the type of object to return by the reader (which usually is your domain object type).</p>

<div class="bs-callout bs-callout-warning">
    <p><strong>Heads up!:</strong> The <code>JpaRecordReader</code> loads all data fetched by the JPQL query into a <code>java.util.List</code> object.
        You should pay attention to large data sets with the JPQL query you specify to the <code>JpaRecordReader</code>. You can specify the maximum number of rows
        to fetch using the <code><em>maxResults</em></code> parameter of the <code><em>JpaRecordReader</em></code>.</p>
</div>

<h4>2.4.3. Reading data from Mongo DB</h4>

<p>Easy Batch provides the <code><em>MongoDBRecordReader</em></code> that allows you to read data from a
    <a href="http://www.mongodb.org" target="_blank">Mongo DB</a> instance.</p>

<p>First, add the following maven dependency to your project:</p>

<div class="bs-callout bs-callout-code">
<pre><code class="xml">&lt;dependency&gt;
    &lt;groupId&gt;org.easybatch&lt;/groupId&gt;
    &lt;artifactId&gt;easybatch-mongodb&lt;/artifactId&gt;
    &lt;version&gt;3.0.0&lt;/version&gt;
&lt;/dependency&gt;</code></pre>
</div>

<p>The <code><em>MongoDBRecordReader</em></code> produces <code><em>MongoRecord</em></code> instances
    having <code><em>com.mongodb.DBObject</em></code> as payload.</p>

<p>You can configure the <code><em>MongoDBRecordReader</em></code> with the following parameters:</p>
<ul>
    <li><strong>limit</strong>: the maximum number of documents to fetch</li>
    <li><strong>skip</strong>: the number of documents to skip</li>
    <li><strong>sort</strong>: the sort criteria</li>
</ul>

<h3>2.5 Reading data from a JMS queue</h3>

<p>The <code><em>JmsQueueRecordReader</em></code> allows to read records from a JMS queue.</p>

<p>To use the <code><em>JmsQueueRecordReader</em></code>, first you need to add the <code><em>easybatch-jms</em></code> module to your dependencies:</p>

<div class="bs-callout bs-callout-code">
<pre><code class="xml">&lt;dependency&gt;
    &lt;groupId&gt;org.easybatch&lt;/groupId&gt;
    &lt;artifactId&gt;easybatch-jms&lt;/artifactId&gt;
    &lt;version&gt;3.0.0&lt;/version&gt;
&lt;/dependency&gt;</code></pre>
</div>

<p>Then, you can register it with the <code><em>EngineBuilder</em></code>:</p>

<div class="bs-callout bs-callout-code">
<pre><code class="java">Engine engine = new EngineBuilder()
    <strong>.reader(new JmsRecordReader(queueConnectionFactory, queue))</strong>
    .build();
</code></pre>
</div>

<p>When you create a <code><em>JmsQueueRecordReader</em></code>, you need to be provide the JMS queue connection factory and the queue to read data from.
The <code><em>JmsQueueRecordReader</em></code> will produce <code><em>JmsRecord</em></code> instances with a <code><em>javax.jms.Message</em></code> as payload.</p>

<h3>2.6 Other data source type readers</h3>

<p>You have seen common data sources types and how you can read them using readers provided by Easy Batch.</p>
<p>Easy Batch provides other readers that are summarized in the following table:</p>
<table class="table table-bordered table-condensed table-striped">
    <thead>
        <tr class="info">
            <th>Data source</th>
            <th>Record reader</th>
            <th>record type</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>In-memory String</td>
            <td>StringRecordReader</td>
            <td>StringRecord</td>
        </tr>
        <tr>
            <td>Flat file (delimited values)</td>
            <td>ApacheCommonCsvRecordReader</td>
            <td>ApacheCommonCsvRecord</td>
        </tr>
        <tr>
            <td>Standard input</td>
            <td>CliRecordReader</td>
            <td>StringRecord</td>
        </tr>
        <tr>
            <td>List of objects</td>
            <td>ListRecordReader</td>
            <td>GenericRecord</td>
        </tr>
        <tr>
            <td>Queue of objects</td>
            <td>QueueRecordReader</td>
            <td>Type of objects in the queue</td>
        </tr>
    </tbody>
</table>

        </div>
        <div class="tab-pane fade" id="filtering">
            <h2 id="3">3. Filtering records</h2>

<p>You can filter records through the <code><em>RecordFilter</em></code> API. This interface allows you to skip records from being processed if they satisfy a given predicate.</p>

<p>A typical example is to filter comment records (those beginning with #) in a flat file. Another example is to filter
log files (with extension <em>.log</em>) when processing a set of files in a directory.</p>

<p>To register a record filter, you can use the <code><em>EngineBuilder</em></code> API as follow:</p>

<div class="bs-callout bs-callout-code">
<pre><code class="java">Engine engine = new EngineBuilder()
    <strong>.filter(new myRecordFilter())</strong>
    .build();</code></pre>
</div>

<p>Easy Batch applies a filter chain on each record, so you can register as many filters as you want. They will be applied
on the same order in which you register them. the engine will stop the chain on first applied filter.</p>

<p>There are several built-in implementations for commonly used filters:</p>

<div class="row">
    <div class="col-md-10 col-md-offset-1">
        <p class="pull-center"><img class="ebi" src="../img/eb/filter-uml.jpg"/></p>
    </div>
</div>

<ul>
    <li><code>HeaderRecordFilter</code> : convenient filter to skip a header record in a flat file</li>
    <li><code>StartWithStringRecordFilter</code> : filters a string record if its payload starts with one of the given prefixes.</li>
    <li><code>EndWithStringRecordFilter</code> : filters a string record if its payload ends with one of the given suffixes.</li>
    <li><code>RecordNumberEqualsToFilter</code> : filters a record if its number is equal to one of the given numbers.</li>
    <li><code>RecordNumberGreaterThanFilter</code> : filters a record if its number is greater than a given number</li>
    <li><code>RecordNumberLowerThanFilter</code> : filters a record if its number is lower than a given number</li>
    <li><code>RecordNumberBetweenFilter</code> : filters a record if its number is inside a given number range</li>
    <li><code>FileExtensionFilter</code> : filters a file record if its extension has one of the given extensions.</li>
    <li><code>PoisonRecordFilter</code> : filters poison records (End-Of-Stream records) submitted to a queue.</li>
</ul>

<p>Please refer to the Javadoc of the <code><em>org.easybatch.core.filter</em></code> package for all details about built-in record filters.</p>

<div class="bs-callout bs-callout-warning">
    <h5><i class="fa fa-info-circle"></i> Heads up!</h5>
    <p>Registering a record filter is <strong>optional</strong>. By default, Easy Batch registers a NoOp record filter that does not filter any input record.</p>
</div>

        </div>
        <div class="tab-pane fade" id="mapping">
            <h2 id="4">4. Mapping records to domain objects</h2>

<p>Easy Batch development is POJO-centric and has been designed with the idea that input records
    should be projected in the object oriented world of Java and not used in their original format.</p>

    <p>It is the <code><em>RecordMapper</em></code> that lets you map input records to your domain objects.
    You can register an implementation of the <code><em>RecordMapper</em></code> interface as follows:</p>

<div class="bs-callout bs-callout-code">
<pre><code class="java">Engine engine = new EngineBuilder()
    <strong>.mapper(new MyRecordMapper())</strong>
    .build();</code></pre>
</div>

<div class="bs-callout bs-callout-warning">
    <h5><i class="fa fa-info-circle"></i> Heads up!</h5>
    <p>Registering a record mapper is <strong>optional</strong>. By default, Easy Batch registers a NoOp record mapper that returns the record as is (no mapping logic).</p>
</div>

        <p>Easy Batch comes with built-in record mappers that allow you to map records from a variety of data formats:</p>

<div class="row">
    <div class="col-md-10 col-md-offset-1">
        <p class="pull-center"><img class="ebi" src="../img/eb/mapper-uml.jpg"/></p>
    </div>
</div>

<h3>4.1 Mapping flat file records</h3>

<p>Easy Batch comes with two implementations of the <code><em>RecordMapper</em></code> interface to map flat file records to domain objects:</p>
<ul>
    <li><code><em>DelimitedRecordMapper</em></code>: maps delimiter-separated-values to domain objects</li>
    <li><code><em>FixedLengthRecordMapper</em></code>: maps fixed-length records to domain objects</li>
</ul>

<p>These two mappers also convert raw textual data in flat file records to typed data in your domain objects.

    Easy Batch supports all built-in Java primitive and wrapper types.
    If you want to provide a custom type converter, you can implement the <code><em>org.easybatch.core.api.TypeConverter</em></code> interface and register your implementation using
    <code><em>DelimitedRecordMapper.registerTypeConverter</em></code> and <code><em>FixedLengthRecordMapper.registerTypeConverter</em></code> methods.</p>

<p>To use these two mappers, you need to add the <code><em>easybatch-flatfile</em></code> module to your dependencies:</p>

<div class="bs-callout bs-callout-code">
<pre><code class="xml">&lt;dependency&gt;
    &lt;groupId&gt;org.easybatch&lt;/groupId&gt;
    &lt;artifactId&gt;easybatch-flatfile&lt;/artifactId&gt;
    &lt;version&gt;3.0.0&lt;/version&gt;
&lt;/dependency&gt;</code></pre>
</div>

<h4>4.1.1 Mapping delimiter-separated values</h4>

<p>To register the <code><em>DelimitedRecordMapper</em></code>, use the following snippet:</p>

<div class="bs-callout bs-callout-code">
<pre><code class="java">Engine engine = new EngineBuilder()
    <strong>.mapper(new DelimitedRecordMapper(MyPojoType.class))</strong>
    .build();</code></pre>
</div>

<p>By default, the <code>DelimiterRecordMapper</code> will infer field names from the header record and map data to matching fields in the domain object.
    Obviously, if you use this convention of configuration, you <em>should not skip</em> the header record with a record filter.</p>

<p>If you want to use a custom mapping strategy, you can specify field names:</p>

<div class="bs-callout bs-callout-code">
<pre><code class="java">RecordMapper&lt;MyPojo&gt; myPojoMapper =
    new DelimitedRecordMapper(MyPojo.class, new String[]{"myPojoField1", "myPojoField2"});</code></pre>
</div>

<p>Field names should be <em>in the same order</em> as they appear in the delimited record.</p>

<p>You can also map a subset of fields to your domain object. For example:</p>

<div class="bs-callout bs-callout-code">
<pre><code class="java">RecordMapper&lt;MyPojo&gt; myPojoMapper =
    new DelimitedRecordMapper(MyPojo.class, new Integer[]{1, 4, 7});</code></pre>
</div>

<p>With this constructor, the <code><em>DelimitedRecordMapper</em></code> will only map fields 1, 4 and 7 to your domain objects fields.
    Field names will be retrieved from the header record. If you want to use a custom mapping strategy, you can specify field names
    in the third constructor parameter. For example:</p>

<div class="row">
            <div class="col-md-6">
                <div class="bs-callout bs-callout-code">
<pre><code class="java">RecordMapper&lt;MyPojo&gt; myPojoMapper =
    new DelimitedRecordMapper(MyPojoType.class,
    new Integer[]{1, 4, 7},
    new String[]{"id", "name", "description"});</code></pre>
                </div>
                <p>This will apply mapping defined in the following table.</p>
            </div>
            <div class="col-md-6">
                <table class="table table-bordered table-condensed table-striped  ">
                    <thead>
                    <tr>
                        <th>Delimited field index</th>
                        <th>POJO field</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>1</td>
                        <td class="center-td">id</td>
                    </tr>
                    <tr>
                        <td>4</td>
                        <td class="center-td">name</td>
                    </tr>
                    <tr>
                        <td>7</td>
                        <td class="center-td">description</td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <br>
<p>You can also configure the <code><em>DelimitedRecordMapper</em></code> with custom parameters:</p>

<table class="table table-bordered table-condensed table-striped ">
    <thead>
    <tr>
        <th>Parameter</th>
        <th>Required</th>
        <th>Default value</th>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td>delimiter</td>
        <td class="center-td">false</td>
        <td>","</td>
    </tr>
    <tr>
        <td>qualifier</td>
        <td class="center-td">false</td>
        <td>""</td>
    </tr>
    <tr>
        <td>trimWhitespaces</td>
        <td>false</td>
        <td class="center-td">true</td>
    </tr>
    </tbody>
</table>

<p>For example, to use the <em>pipe</em> character as a delimiter, use the following snippet:</p>

<div class="bs-callout bs-callout-code">
<pre><code class="java">DelimitedRecordMapper&lt;MyPojo&gt; myPojoMapper = new DelimitedRecordMapper&lt;MyPojo&gt;(MyPojo.class);
    myPojoMapper.setDelimiter("|");</code></pre>
</div>
<p>There are other setters to provide custom parameters.</p>

<div class="bs-callout bs-callout-danger">
<h5><i class="fa fa-info-circle"></i> Heads up!</h5>
<p>If a delimited record is not well formed, the <code><em>DelimitedRecordMapper</em></code> throws an exception that causes the record to be ignored by the engine in the following cases:</p>
<ul>
    <li>Fields number is not equal to the expected fields number (missing field, extra field, etc) as specified in the
        <a href="http://www.ietf.org/rfc/rfc4180.txt" target="_blank">CSV RFC (section 2.4).</a></li>
    <li>A field is not qualified as expected with the data qualifier, which means that the <code><em>DelimitedRecordMapper</em></code> expects
    all fields to be qualified when a qualifier is specified.</li>
</ul>

    <h5><i class="fa fa-info-circle"></i> Note:</h5>
    <p>The <code><em>DelimitedRecordMapper</em></code> is intended to cover <strong>basic</strong> requirements of delimited-values mapping.
        It does <strong>not</strong> support detecting delimiters and line breaks in a qualified field.
        If you need these features, you can use the <code><em>ApacheCommonCsvRecordMapper</em></code> or the <code><em>OpenCsvRecordMapper</em></code>
        which are detailed in next sections (4.1.2 and 4.1.3 respectively).</p>
</div>

<h4>4.1.2 Mapping CSV records using Apache Common CSV</h4>

<p>When you use the <code><em>ApacheCommonCsvRecordReader</em></code>, you get instances of <code><em>ApacheCommonCsvRecord</em></code> which have
<code><em>org.apache.commons.csv.CSVRecord</em></code> as payload.
    Apache common CSV does not provide a mapping feature between <code><em>org.apache.commons.csv.CSVRecord</em></code> instances and Java Objects.
    Easy Batch provides this feature through the <code><em>ApacheCommonCsvRecordMapper</em></code>.</p>

<p>To use this mapper, first you need to add the following maven dependency to your project:</p>

<div class="bs-callout bs-callout-code">
<pre><code class="xml">&lt;dependency&gt;
    &lt;groupId&gt;org.easybatch&lt;/groupId&gt;
    &lt;artifactId&gt;easybatch-apache-commons-csv&lt;/artifactId&gt;
    &lt;version&gt;3.0.0&lt;/version&gt;
&lt;/dependency&gt;</code></pre>
</div>

<p>Then, you can register the <code><em>ApacheCommonCsvRecordMapper</em></code> as follows:</p>

<div class="bs-callout bs-callout-code">
<pre><code class="java">Engine engine = new EngineBuilder()
    .mapper(new ApacheCommonCsvRecordReader())
    .build();</code></pre>
</div>

<h4>4.1.3 Mapping CSV records using OpenCSV</h4>

<p>The <code><em>OpenCsvRecordMapper</em></code> uses <a href="http://opencsv.sourceforge.net">Open CSV</a> to map a delimited <code><em>StringRecord</em></code> to domain object.</p>

<p>In order to use this mapper, first you need to add the following maven dependency to your project:</p>

<div class="bs-callout bs-callout-code">
<pre><code class="xml">&lt;dependency&gt;
    &lt;groupId&gt;org.easybatch&lt;/groupId&gt;
    &lt;artifactId&gt;easybatch-opencsv&lt;/artifactId&gt;
    &lt;version&gt;3.0.0&lt;/version&gt;
&lt;/dependency&gt;</code></pre>
</div>

<p>Then, you can register the <code><em>OpenCsvRecordMapper</em></code> as follows:</p>

<div class="bs-callout bs-callout-code">
<pre><code class="java">Engine engine = new EngineBuilder()
    .mapper(new OpenCsvRecordMapper(MyPojoType.class, new String[]{"field1", "field2"});)
    .build();</code></pre>
</div>

<p>You should specify your domain object type and an array of field names <em>in the same order</em> as they appear in the CSV record.</p>

<p>You can configure the <code><em>OpenCsvRecordMapper</em></code> to parse and map a <code><em>StringRecord</em></code> with the following parameters:</p>

<ul>
    <li><strong>delimiter</strong>: the delimiter that separates values</li>
    <li><strong>qualifier</strong>: the qualifier that surrounds values</li>
    <li><strong>strictQualifiers</strong>: true if the qualifier should be present on all fields</li>
</ul>

<h4>4.1.4 Mapping fixed-length records</h4>

<p>To register the <code><em>FixedLengthRecordMapper</em></code>, use the following snippet:</p>

<div class="bs-callout bs-callout-code">
<pre><code class="java">Engine engine = new EngineBuilder()
    .mapper(new FixedLengthRecordMapper(
        MyPojoType.class,
        new int[]{filed1Length, filed2Length},
        new String[]{"filed1Name", "filed2Name"}))
    .build();</code></pre>
</div>

<p>When you create a <code><em>FixedLengthRecordMapper</em></code>, you should specify your domain object type, an array of field lengths and an array of field names <em>in the same order</em> as they appear in the fixed length record.</p>

<p>If a fixed length record is not well formed, the <code><em>FixedLengthRecordMapper</em></code> throws an exception that causes the record to be ignored by the engine.
    A fixed length record is not well formed if its length is not equal to expected record length.</p>

<h3>4.2 Mapping XML records</h3>

<h4>4.2.1 Mapping XML records using JAXB</h4>

<p>Easy Batch comes with a built-in implementation of the <code><em>RecordMapper</em></code> interface named <code><em>XmlRecordMapper</em></code> to map xml records to your domain objects using <a href="https://jaxb.java.net/" target="_blank">JAXB</a>.</p>

<p>To use this mapper, you should annotate your POJO with JAXB annotations to be able to map XML records to instances of your POJO.
    First you need to add the <code><em>easybatch-xml</em></code> module to your dependencies:<p>

<div class="bs-callout bs-callout-code">
<pre><code class="xml">&lt;dependency&gt;
    &lt;groupId&gt;org.easybatch&lt;/groupId&gt;
    &lt;artifactId&gt;easybatch-xml&lt;/artifactId&gt;
    &lt;version&gt;3.0.0&lt;/version&gt;
&lt;/dependency&gt;</code></pre>
</div>

    <p>Then you can register the <code><em>XmlRecordMapper</em></code> mapper with the <code><em>EngineBuilder</em></code>:</p>

<div class="bs-callout bs-callout-code">
<pre><code class="java">Engine engine = new EngineBuilder()
    <strong>.mapper(new XmlRecordMapper(MyPojoType.class, myXsdFile))</strong>
    .build();</code></pre>
</div>

<p>When you create an <code>XmlRecordMapper</code>, you should specify your domain object type and
    a XSD file against which the XML record should be validated (if no XSD is specified, no validation will be applied).</p>

<div class="bs-callout bs-callout-warning">
    <h5><i class="fa fa-info-circle"></i> Heads up!</h5>
    <p>The <code>XmlRecordMapper</code> should be used in conjunction with the <code>XmlRecordReader</code>.</p>
    <p>If you want to register a custom JAXB adapter, or listener, etc you can create an instance of the <code>javax.xml.bind.Unmarshaller</code>,
        register your custom components and then use the constructor <code><em>org.easybatch.xml.XmlRecordMapper(javax.xml.bind.Unmarshaller unmarshaller)</em></code>.
</div>

<h4>4.2.2 Mapping XML records using XStream</h4>

<p>Easy Batch provides an integration module with <a href="http://xstream.codehaus.org/" target="_blank">XStream</a> to map XML records to domain objects.</p>

<p>In order to use the <code><em>XstreamRecordMapper</em></code>, first, add the following maven dependency to your project:</p>

<div class="bs-callout bs-callout-code">
<pre><code class="xml">&lt;dependency&gt;
    &lt;groupId&gt;org.easybatch&lt;/groupId&gt;
    &lt;artifactId&gt;easybatch-xstream&lt;/artifactId&gt;
    &lt;version&gt;3.0.0&lt;/version&gt;
&lt;/dependency&gt;</code></pre>
</div>

<p>Then, you can register it as follow:</p>

<div class="bs-callout bs-callout-code">
<pre><code class="java">Engine engine = new EngineBuilder()
    <strong>.mapper(new XstreamRecordMapper&lt;MyPojoType&gt;(xstreamMapper))</strong>
    .build();</code></pre>
</div>

<p>You should provide a pre-configured instance of the XStream mapper and the type of the target object.</p>

<h3>4.3 Mapping JSON records</h3>

<p>Easy Batch does not provide a built-in JSON record mapper yet.
    The goal of Easy Batch is to use the reference implementation of <a href="https://jcp.org/en/jsr/detail?id=367" target="_blank">JSON-B</a>.
    As of version 3.0.0 of Easy Batch, the reference implementation of JSON-B is not available yet.
    Built-in support for JSON mapping will be provided as soon as the reference implementation of JSON-B will become available.
</p>

<p>That said, Easy Batch provides integration modules with third party JSON mappers like
    <a href="http://jackson.codehaus.org/" target="_blank">Jackson</a> or <a href="https://code.google.com/p/google-gson/" target="_blank">Gson</a>.</p>

<h4>4.3.1 Mapping JSON records with Jackson</h4>

<p>First, add the following maven dependency to your project:</p>

<div class="bs-callout bs-callout-code">
<pre><code class="xml">&lt;dependency&gt;
    &lt;groupId&gt;org.easybatch&lt;/groupId&gt;
    &lt;artifactId&gt;easybatch-jackson&lt;/artifactId&gt;
    &lt;version&gt;3.0.0&lt;/version&gt;
&lt;/dependency&gt;</code></pre>
</div>

<p>Then, you can register the <code><em>JacksonRecordMapper</em></code> as follows:</p>

<div class="bs-callout bs-callout-code">
<pre><code class="java">Engine engine = new EngineBuilder()
    <strong>.mapper(new JacksonRecordMapper(jacksonMapper, MyPojoType.class))</strong>
    .build();</code></pre>
</div>

<p>You should provide a pre-configured instance of the Jackson mapper and the type of the target object.</p>

<h4>4.3.2 Mapping JSON records with Gson</h4>

<p>First, add the following maven dependency to your project:</p>

<div class="bs-callout bs-callout-code">
<pre><code class="xml">&lt;dependency&gt;
    &lt;groupId&gt;org.easybatch&lt;/groupId&gt;
    &lt;artifactId&gt;easybatch-gson&lt;/artifactId&gt;
    &lt;version&gt;3.0.0&lt;/version&gt;
&lt;/dependency&gt;</code></pre>
</div>

<p>Then, you can register the <code><em>GsonRecordMapper</em></code> as follows:</p>

<div class="bs-callout bs-callout-code">
<pre><code class="java">Engine engine = new EngineBuilder()
    <strong>.mapper(new GsonRecordMapper(gsonMapper, MyPojoType.class))</strong>
    .build();</code></pre>
</div>

<p>You should provide a pre-configured instance of the Gson mapper and the type of the target object.</p>

<h3>4.4 Mapping database records</h3>

<h4>4.4.1 Mapping JDBC records</h4>

<p>When you use the <code><em>JdbcRecordReader</em></code> to read data from a database, you get <code><em>JdbcRecord</em></code> instances
which have <code><em>java.sql.ResultSet</em></code> as payload. In order to map <code><em>JdbcRecord</em></code> to domain objects,
you can use the <code><em>JdbcRecordMapper</em></code>.</p>

<p>First you need to add the <code><em>easybatch-jdbc</em></code> module to your dependencies:</p>

        <div class="bs-callout bs-callout-code">
<pre><code class="xml">&lt;dependency&gt;
    &lt;groupId&gt;org.easybatch&lt;/groupId&gt;
    &lt;artifactId&gt;easybatch-jdbc&lt;/artifactId&gt;
    &lt;version&gt;3.0.0&lt;/version&gt;
&lt;/dependency&gt;</code></pre>
        </div>

<p>Then you can register it as follows:</p>
<div class="bs-callout bs-callout-code">
<pre><code class="java">Engine engine = new EngineBuilder()
    <strong>.mapper(new JdbcRecordMapper(MyPojoType.class))</strong>
    .build();</code></pre>
</div>

<p>When you create a <code><em>JdbcRecordMapper</em></code>, you should specify your domain object type.
    Easy Batch will introspect your bean and use the JDBC result set meta-data to map JDBC columns to fields with the same name.</p>

<p>If column names are different from your Pojo field names, you can specify an array of field names <em>in the same order</em> as in the database record:</p>

<div class="bs-callout bs-callout-code">
<pre><code class="java">Engine engine = new EngineBuilder()
    <strong>.mapper(new JdbcRecordMapper(MyPojoType.class, new String[]{"myPojoField1", "myPojoField2"}))</strong>
    .build();</code></pre>
</div>

<p>Easy Batch will then use this array of field names to map data from columns in the same order as in the JDBC record.</p>

<p>The <code><em>JdbcRecordMapper</em></code> also convert data in JDBC records to typed data in your domain objects.

    Easy Batch supports all built-in Java primitive and wrapper types.
    If you want to provide a custom type converter, you can implement the <code><em>TypeConverter</em></code> interface and register your implementation using
    the <code><em>JdbcRecordMapper.registerTypeConverter</em></code> method.</p>

<p>Easy Batch provides also an integration module with
    <a href="http://docs.spring.io/spring/docs/current/spring-framework-reference/html/jdbc.html" target="_blank">Spring JDBC</a>
    in order to map JDBC records to domain objects.</p>
<p>This module provides the <code><em>SpringJdbcRecordMapper</em></code> that you can use as follows:</p>

<div class="bs-callout bs-callout-code">
<pre><code class="java">Engine engine = new EngineBuilder()
    <strong>.mapper(new SpringJdbcRecordMapper(MyPojoType.class))</strong>
    .build();</code></pre>
</div>

<p>You have to specify the target domain object type at construction time.
Note that to use this mapper, you should add the following maven dependency to your project:</p>

<div class="bs-callout bs-callout-code">
<pre><code class="xml">&lt;dependency&gt;
    &lt;groupId&gt;org.easybatch&lt;/groupId&gt;
    &lt;artifactId&gt;easybatch-spring-jdbc&lt;/artifactId&gt;
    &lt;version&gt;3.0.0&lt;/version&gt;
&lt;/dependency&gt;</code></pre>
</div>

<h4>4.4.2 Mapping JPA records</h4>

<p>When you use the <code><em>JpaRecordReader</em></code>, you get a <code><em>GenericRecord</em></code> having
    an instance of your domain object as payload. In fact, the mapping is already done by the JPA provider.</p>

<p>In order to get the payload of <code><em>GenericRecord</em></code>, you can use the <code><em>GenericRecordMapper</em></code>.
This mapper simply returns the payload of the <code><em>GenericRecord</em></code> which is the instance of your domain object.</p>

<h4>4.4.3 Mapping MongoDB records</h4>

<p>When you use the <code><em>MongoDBRecordReader</em></code> to read data from a Mongo DB instance, you get <code><em>MongoRecord</em></code>
    instances having <code><em>com.mongodb.DBObject</em></code> as payload. In order to map <code><em>MongoRecord</em></code> to domain objects,
    you can use the <code><em>MongoDBRecordMapper</em></code>.</p>

<p>First you need to add the <code><em>easybatch-mongodb</em></code> module to your dependencies:</p>

<div class="bs-callout bs-callout-code">
<pre><code class="xml">&lt;dependency&gt;
    &lt;groupId&gt;org.easybatch&lt;/groupId&gt;
    &lt;artifactId&gt;easybatch-mongodb&lt;/artifactId&gt;
    &lt;version&gt;3.0.0&lt;/version&gt;
&lt;/dependency&gt;</code></pre>
</div>

<p>Then you can register it as follows:</p>
<div class="bs-callout bs-callout-code">
<pre><code class="java">Engine engine = new EngineBuilder()
    <strong>.mapper(new MongoDBRecordMapper(MyPojoType.class))</strong>
    .build();</code></pre>
</div>

<p>The <code><em>MongoDBRecordMapper</em></code> uses <a href="https://github.com/mongodb/morphia" target="_blank">Morphia</a> behind the scene
    to map <code><em>com.mongodb.DBObject</em></code> to domain objects.
    Note that your domain object should be annotated with Morphia's annotations.</p>

        </div>
        <div class="tab-pane fade" id="validation">
            <h2 id="5">5. Validating records</h2>

<p>Validating input data is an essential step in every batch application.
    With Easy Batch, you can validate records by registering a <code><em>RecordValidator</em></code> implementation as follows:</p>

<div class="bs-callout bs-callout-code">
<pre><code class="java">Engine engine = new EngineBuilder()
    <strong>.validator(new MyRecordValidator())</strong>
    .build();</code></pre>
</div>

<p>Easy Batch comes with a built-in implementation of the <code><em>RecordValidator</em></code> interface
    using the <a href="http://jcp.org/en/jsr/detail?id=303" target="_blank">Bean Validation API</a> reference implementation which is <a href="http://hibernate.org/validator/" target="_blank">Hibernate validator</a>.</p>

<p>In order to use the built-in <code><em>BeanValidationRecordValidator</em></code>, you should proceed as follows:

        <h4>5.1 Add maven dependency</h4>

    <p>Add the <code><em>easybatch-validation</em></code> module to your dependencies:</p>

<div class="bs-callout bs-callout-code">
<pre><code class="xml">&lt;dependency&gt;
    &lt;groupId&gt;org.easybatch&lt;/groupId&gt;
    &lt;artifactId&gt;easybatch-validation&lt;/artifactId&gt;
    &lt;version&gt;3.0.0&lt;/version&gt;
&lt;/dependency&gt;</code></pre>
</div>

        <h4>5.2 declare validation constraints</h4>

    <p>In order to use the Bean Validation API with Easy Batch, you should annotate your domain object with Bean Validation API annotations.</p>

        <h4>5.3 Register the validator</h4>

    <p>Finally, register the <code><em>BeanValidationRecordValidator</em></code> using the <code><em>EngineBuilder</em></code> API:</p>

<div class="bs-callout bs-callout-code">
<pre><code class="java">Engine engine = new EngineBuilder()
    .validator(new BeanValidationRecordValidator&lt;YourPojoType&gt;())
    .build();</code></pre>
</div>

        <p>Easy Batch will then apply validation logic that you declared using annotations for each input record during the process.</p>

<div class="bs-callout bs-callout-warning">
    <h5><i class="fa fa-info-circle"></i> Heads up!</h5>
    <p>Registering a record validator is <strong>optional</strong>. By default, Easy Batch registers a NoOp record validator that does not apply any validation logic on input records.</p>
</div>

        </div>
        <div class="tab-pane fade" id="processing">
            <h2 id="6">6. Processing records</h2>

<p>Easy Batch lets you define your batch processing business logic through the <code><em>RecordProcessor</em></code> interface.
    This is where you implement what to do for each record.</p>

<p>Once the pre-processing stage (filtering, parsing, mapping and validating records) is finished, input records enter the processing pipeline:</p>

<div class="row">
    <div class="col-md-10 col-md-offset-1">
        <p class="pull-center"><img class="ebi-small" src="../img/eb/pipeline.jpg"/></p>
    </div>
</div>

<p>Records are submitted to a chain of processors. Record type can change from one processor to another.</p>

<p>You can define as much processors as you want in the pipeline:</p>

<div class="bs-callout bs-callout-code">
<pre><code class="java">Engine engine = new EngineBuilder()
    <strong>.processor(myRecordProcessor1)</strong>
    <strong>.processor(myRecordProcessor2)</strong>
    .build();</code></pre>
</div>

<p>Easy Batch will call these processors in the order in which they are registered.</p>

        <p>You can also do some computation on input records that will be returned at the end of execution.
        This is the role of <code><em>ComputationalRecordProcessor</em></code> API, that is, do some computation on inputs records.</p>

        <p>Unlike <code><em>RecordProcessor</em></code>s that are used for <strong>intermediate</strong> operations,
            a <code><em>ComputationalRecordProcessor</em></code> is used for <strong>terminal</strong> operations, like aggregating results for instance.
            Hence, it should be placed <strong>at the end</strong> of the pipeline. Easy Batch will call its <code><em>getComputationResult</em></code>
        method to get the computation result at the end of execution. You can obtain this result from the execution report as follows:</p>

<div class="bs-callout bs-callout-code">
<pre><code class="java">Engine engine = new EngineBuilder()
    <strong>.processor(myComputationalRecordProcessor)</strong>
    .build();

Report report = engine.call();

<strong>MyResultType myResult = (MyResultType) report.getBatchResult();</strong></code></pre>
</div>

<div class="bs-callout bs-callout-warning">
    <h5><i class="fa fa-info-circle"></i> Heads up!</h5>
    <p>Registering a record processor is <strong>optional</strong>. By default, Easy Batch registers a NoOp record processor that returns the record as is without any processing logic.</p>
</div>

        </div>
        <div class="tab-pane fade" id="reporting">
            <h2 id="7">7. Easy Batch report</h2>

<h3>7.1 Getting an execution report</h3>

<p>Easy Batch engine records several metrics and statistics during record processing and provides a complete report at the end of execution.

    This report is an instance of the <code><em>Report</em></code> class and contains the following information:</p>
<ul>
    <li>The batch start time, end time and duration</li>
    <li>The batch execution status</li>
    <li>The data source name</li>
    <li>The total records number</li>
    <li>The number of filtered, ignored and rejected records</li>
    <li>The number of records processed with errors</li>
    <li>The number of records successfully processed</li>
    <li>The record processing time average</li>
    <li>And the computation result if any</li>
</ul>

<p>You can get a batch report as follows:</p>

<div class="bs-callout bs-callout-code">
<pre><code class="java">Engine engine = new EngineBuilder().build();

<strong>Report report = engine.call();</strong></code></pre>
</div>

<h3>7.2 Formatting reports</h3>

<p>You can format reports using the <code><em>ReportFormatter</em></code> interface.</p>

<p>Easy Batch comes with a built-in implementation named <code><em>HtmlReportFormatter</em></code> that formats reports to HTML:</p>

<div class="bs-callout bs-callout-code">
<pre><code class="java">String htmlReport = new HtmlReportFormatter().formatReport(report);</code></pre>
</div>

<p>The following is a sample HTML report (click on the image for a live HTML demo):</p>

<div class="pull-center">
    <a href="../documentation/htmlReport.html" target="_blank">
        <img src="../img/eb/report-thumbnail.jpg" alt="htmlReport" style="width: 80%"/>
    </a>
</div>
<br/>

<p>To use the <code><em>HtmlReportFormatter</em></code>, you should add the <code><em>easybatch-tools</em></code> module to your dependencies:</p>

<div class="bs-callout bs-callout-code">
<pre><code class="xml">&lt;dependency&gt;
    &lt;groupId&gt;org.easybatch&lt;/groupId&gt;
    &lt;artifactId&gt;easybatch-tools&lt;/artifactId&gt;
    &lt;version&gt;3.0.0&lt;/version&gt;
&lt;/dependency&gt;</code></pre>
</div>

<p>You can also provide your own implementation of the <code><em>ReportFormatter</em></code> interface to format reports to custom formats.</p>

<h3>7.3 Merging reports</h3>

<p>When you run multiple batch instances to process a data source in parallel, each engine will generate a partial report for the data partition it has processed.</p>

<p>You may want to merge partial reports into a consolidated one. This is where the <code><em>ReportMerger</em></code> comes to the rescue:</p>

<div class="row">
    <div class="col-md-8 col-md-offset-2">
        <p class="pull-center"><img class="ebi" src="../img/eb/report-merger.jpg"/></p>
    </div>
</div>

<p>The merged report is defined as follows:</p>
<ul>
    <li>The start time is the minimum of start times</li>
    <li>The end time is the maximum of end times</li>
    <li>The total records is the sum of total records</li>
    <li>The total filtered records is the sum of total filtered records</li>
    <li>The total ignored records is the sum of total ignored records</li>
    <li>The total rejected records is the sum of total rejected records</li>
    <li>The total error records is the sum of total error records</li>
    <li>The total success records is the sum of total success records</li>
    <li>The final batch result is a list of all batch partial results</li>
    <li>The final data source name is the concatenation (one per line) of partial data sources names</li>
</ul>

<p>To use the report merger, first you need to add the <code><em>easybatch-tools</em></code> module to your dependencies:</p>

<div class="bs-callout bs-callout-code">
<pre><code class="xml">&lt;dependency&gt;
    &lt;groupId&gt;org.easybatch&lt;/groupId&gt;
    &lt;artifactId&gt;easybatch-tools&lt;/artifactId&gt;
    &lt;version&gt;3.0.0&lt;/version&gt;
&lt;/dependency&gt;</code></pre>
</div>

<p>Then you can use the following snippet to get a merged report:</p>

<div class="bs-callout bs-callout-code">
<pre><code class="java">ReportMerger reportMerger = new DefaultReportMerger();
<strong>Report finalReport = reportMerger.mergeReports(report1, report2);</strong></code></pre>
</div>

<p>You can find an example of how to use the report merger in the <a href="../tutorials/parallel.html" target="_blank">Parallel jobs tutorial</a>.</p>

        </div>
        <div class="tab-pane fade" id="miscellaneous">
            <h2>8. The AbstractRecordDispatcher API</h2>

        <p>Easy Batch does not provide a feature to partition input data.
            Instead of that, it comes with the <code><em>AbstractRecordDispatcher</em></code> abstraction that allows you to
        dispatch records to multiple worker engines in several ways according to your requirements.</p>

        <p>There are 4 built-in implementations of the <code><em>AbstractRecordDispatcher</em></code> class and you can
            provide a custom record dispatching strategy as well:</p>

<div class="row">
    <div class="col-md-12">
        <p class="pull-center"><img class="ebi" src="../img/eb/dispatcher-uml.jpg"/></p>
    </div>
</div>

        <p>A record dispatcher is a regular <code><em>RecordProcessor</em></code> and can be used like any other processor in the pipeline.</p>

        <h3>8.1 The RoundRobinRecordDispatcher</h3>
        <p>The <code><em>RoundRobinRecordDispatcher</em></code> dispatches input records to several <code><em>java.util.concurrent.BlockingQueue</em></code> queues in a round robin fashion:</p>

<div class="row">
    <div class="col-md-10 col-md-offset-1">
        <p class="pull-center"><img class="ebi" src="../img/eb/rrrd.jpg"/></p>
    </div>
</div>

        <p>In order to use the <code><em>RoundRobinRecordDispatcher</em></code>, you should specify the list of <code><em>java.util.concurrent.BlockingQueue</em></code> the dispatcher will distribute records to:</p>

<div class="bs-callout bs-callout-code">
<pre><code class="java">//Create queues
BlockingQueue&lt;Record&gt; queue1 = new LinkedBlockingQueue&lt;Record&gt;();
BlockingQueue&lt;Record&gt; queue2 = new LinkedBlockingQueue&lt;Record&gt;();

//create a record dispatcher to dispatch records to queues
<strong>RoundRobinRecordDispatcher recordDispatcher =
            new RoundRobinRecordDispatcher(Arrays.asList(queue1, queue2));</strong></code></pre>
</div>

        <p>You can then read records from these queues using the <code><em>QueueRecordReader</em></code> provided by Easy Batch.</p>

        <p>You can find a usage sample of this API in the <a href="../tutorials/parallel.html" target="_blank">Parallel jobs tutorial</a>.</p>

        <h3>8.2 The ContentBasedRecordDispatcher</h3>
        <p>The <code><em>ContentBasedRecordDispatcher</em></code> dispatches records to several <code><em>java.util.concurrent.BlockingQueue</em></code> queues based on record content:</p>

<div class="row">
    <div class="col-md-10 col-md-offset-1">
        <p class="pull-center"><img class="ebi" src="../img/eb/cbrd.jpg"/></p>
    </div>
</div>

<p>In the figure above, the dispatcher distributes records based on their shape. See <a href="http://www.enterpriseintegrationpatterns.com/ContentBasedRouter.html" target="_blank">here</a> for more detail about this pattern.</p>

<p>In order to use the <code><em>ContentBasedRecordDispatcher</em></code>, you should specify the list of <code><em>java.util.concurrent.BlockingQueue</em></code> the dispatcher will distribute records to:</p>

<div class="bs-callout bs-callout-code">
<pre><code class="java">//Create queues
BlockingQueue&lt;Record&gt; queue1 = new LinkedBlockingQueue&lt;Record&gt;();
BlockingQueue&lt;Record&gt; queue2 = new LinkedBlockingQueue&lt;Record&gt;();
BlockingQueue&lt;Record&gt; defaultQueue = new LinkedBlockingQueue&lt;Record&gt;();


//create a content based record dispatcher to dispatch records to previously created queues
<strong>ContentBasedRecordDispatcher recordDispatcher = new ContentBasedRecordDispatcherBuilder()
    .when(new CircleRecordPredicate()).dispatchTo(queue1)
    .when(new SquareRecordPredicate()).dispatchTo(queue2)
    .otherwise(defaultQueue)
    .build();</strong>
</code></pre>

</div>

        <p>The <code><em>Predicate</em></code> interface is used to select records that match a given criteria:</p>

        <div class="bs-callout bs-callout-code">
<pre><code class="java">public interface Predicate {
    boolean matches(Record record);
}</code></pre>
        </div>

        <p>You should implement this interface to specify on which criteria records will be selected.</p>
        <p>The <code><em>ContentBasedRecordDispatcherBuilder</em></code> allows you to easily create
        correctly configured <code><em>ContentBasedRecordDispatcher</em></code> instances. You can use the <code><em>when</em></code>,
        <code><em>dispatchTo</em></code> and <code><em>otherwise</em></code> methods to specify which type of record should be
        dispatched to which queue, and a default queue to which unmatched records will be dispatched.</p>

<p>Once you have dispatched records to the queues, you should be able to read them using the <code><em>QueueRecordReader</em></code> provided by Easy Batch.
    You can find examples of how to use this API <a href="https://github.com/EasyBatch/easybatch-framework/tree/master/easybatch-tutorials/src/main/java/org/easybatch/tutorials/advanced/cbrd/fruits" target="_blank">here</a> and
    <a href="https://github.com/EasyBatch/easybatch-framework/tree/master/easybatch-tutorials/src/main/java/org/easybatch/tutorials/advanced/cbrd/files" target="_blank">here</a>.</p>

<h3>8.3 The BroadcastRecordDispatcher</h3>
<p>The <code><em>BroadcastRecordDispatcher</em></code> broadcasts input records to several <code><em>java.util.concurrent.BlockingQueue</em></code> queues:</p>

<div class="row">
    <div class="col-md-10 col-md-offset-1">
        <p class="pull-center"><img class="ebi" src="../img/eb/brd.jpg"/></p>
    </div>
</div>

<p>In order to use the <code><em>BroadcastRecordDispatcher</em></code>, you should specify the list of
    <code><em>java.util.concurrent.BlockingQueue</em></code> to which records should be broadcast:</p>

<div class="bs-callout bs-callout-code">
<pre><code class="java">//Create queues
BlockingQueue&lt;Record&gt; queue1 = new LinkedBlockingQueue&lt;Record&gt;();
BlockingQueue&lt;Record&gt; queue2 = new LinkedBlockingQueue&lt;Record&gt;();

//create a record broadcaster
<strong>BroadcastRecordDispatcher broadcastRecordDispatcher
            = new BroadcastRecordDispatcher(Arrays.asList(queue1, queue2));</strong></code></pre>
</div>

<p>You can then read records from these queues using the <code><em>QueueRecordReader</em></code> provided by Easy Batch.</p>

<h3>8.4 The RandomRecordDispatcher</h3>

        <p>As its name implies, the <code><em>RandomRecordDispatcher</em></code> dispatches records randomly to one of the queues it operates on.</p>

        <p>To use this dispatcher, you can proceed the same way as other dispatchers:</p>

<div class="bs-callout bs-callout-code">
<pre><code class="java">//Create queues
BlockingQueue&lt;Record&gt; queue1 = new LinkedBlockingQueue&lt;Record&gt;();
BlockingQueue&lt;Record&gt; queue2 = new LinkedBlockingQueue&lt;Record&gt;();

<strong>RandomRecordDispatcher recordDispatcher = new RandomRecordDispatcher(Arrays.asList(queue1, queue2));</strong></code></pre>
</div>

<h2>9. Extension points</h2>

        <h3>9.1 Workflow extension points</h3>

        <p>Easy Batch's workflow is extensible. You can register listeners to do pre/post processing before and after each step.</p>
        <p>There are two types of listeners:</p>
        <ul>
            <li><strong>Batch job listener</strong>: This is a listener for global batch events (start, end, exception). Several use cases can be implemented using this listener:
                <ul>
                    <li>Lock/Unlock working directory at job start/stop</li>
                    <li>Archive log files at the end of Job</li>
                    <li>Send job report by email at the end of execution</li>
                    <li>etc</li>
                </ul>
            </li>
            <li><strong>Batch step listeners</strong>: These are listeners bound to batch steps (before/after each step). Here are some use cases:
                <ul>
                    <li>Define transaction boundaries and commit interval in a transactional batch application</li>
                    <li>Calculate the processing time for each step</li>
                    <li>etc</li>
                </ul>
            </li>
        </ul>

        <p>The central piece of event handling in Easy Batch is the <code><em>EventManager</em></code> interface.
        This is where all events handling logic is implemented. By default, there is one local implementation included. It could also be implemented using JMS or any other distributed
    technology to get to know of any event happened while the batch is being executed.<p>

<div class="bs-callout bs-callout-warning">
    <h5><i class="fa fa-info-circle"></i> Heads up!</h5>
    <p>Please note that if you implement something like a global or singleton event handler you must ensure that
        your implementation is thread safe.</p>
</div>

        <p>In order to provide your custom <code><em>EventManager</em></code> implementation, you can use the <code><em>EngineBuilder</em></code> API as follow:</p>

<div class="bs-callout bs-callout-code">
<pre><code class="java">Engine engine = new EngineBuilder()
    <strong>.setEventManager(new MyEventManager())</strong>
    .build();</code></pre>
</div>

        <h4>9.1.1 Batch job listener</h4>

        <p>The batch job listener is defined in the <code><em>BatchProcessEventListener</em></code> interface:</p>

        <div class="bs-callout bs-callout-code">
<pre><code class="java">public interface BatchProcessEventListener {

    public void beforeBatchStart();

    public void afterBatchEnd();

    public void onException(Throwable throwable);

}</code></pre>
        </div>

        <p>The next figure shows when each method (in orange) of the <code><em>BatchProcessEventListener</em></code> is called in the processing workflow:</p>

<div class="row">
    <div class="col-md-10 col-md-offset-1">
        <p class="pull-center"><img class="ebi" src="../img/eb/batch-listener.jpg"/></p>
    </div>
</div>

        <p>You can implement this interface to provide custom init/shutdown hooks and register your implementation using the <code><em>EngineBuilder</em></code> API:</p>

        <div class="bs-callout bs-callout-code">
<pre><code class="java">Engine engine = new EngineBuilder()
    <strong>.addBatchProcessEventListener(new MyBatchProcessEventListener())</strong>
    .build();</code></pre>
        </div>

        <h4>9.1.2 Batch step listeners</h4>

        <p>Step listeners work the same as the global batch job event listener:</P>

<div class="row">
    <div class="col-md-10 col-md-offset-1">
        <p class="pull-center"><img class="ebi" src="../img/eb/step-listener.jpg"/></p>
    </div>
</div>

        <p>For each step of the workflow, there is an interface that you can implement to
        provide custom pre/post processing. The following table summarizes these listeners:</p>

<table class="table table-bordered table-condensed table-striped">
    <thead>
    <tr class="info">
        <th>Step</th>
        <th>Listener</th>
        <th>How to use</th>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td>Record reading</td>
        <td><code><em>RecordReaderEventListener</em></code></td>
        <td>Register your custom implementation with <code><em>EngineBuilder.addRecordReaderEventListener</em></code> method</td>
    </tr>
    <tr>
        <td>Record filtering</td>
        <td><code><em>RecordFilterEventListener</em></code></td>
        <td>Register your custom implementation with <code><em>EngineBuilder.addRecordFilterEventListener</em></code> method</td>
    </tr>
    <tr>
        <td>Record mapping</td>
        <td><code><em>RecordMapperEventListener</em></code></td>
        <td>Register your custom implementation with <code><em>EngineBuilder.addRecordMapperEventListener</em></code> method</td>
    </tr>
    <tr>
        <td>Record validation</td>
        <td><code><em>RecordValidatorEventListener</em></code></td>
        <td>Register your custom implementation with <code><em>EngineBuilder.addRecordValidatorEventListener</em></code> method</td>
    </tr>
    <tr>
        <td>Record processing</td>
        <td><code><em>RecordProcessorEventListener</em></code></td>
        <td>Register your custom implementation with <code><em>EngineBuilder.addRecordProcessorEventListener</em></code> method</td>
    </tr>
    </tbody>
</table>


        <h3>9.2 Reporting extension points</h3>

        <p>By default, when an exception occurs during record filtering, mapping, validation or processing, Easy Batch
        logs the exception and updates report statistics. You may want to add custom behaviour of logging and reporting.
        This is where the reporting and logging extension points come to the picture. You can find here the list of extension points and how to use them:</p>

        <table class="table table-bordered table-condensed table-striped">
            <thead>
            <tr class="info">
                <th>Extension point</th>
                <th>Role</th>
                <th>How to use</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td><code><em>FilteredRecordHandler</em></code></td>
                <td>Provide custom reporting strategy for filtered records</td>
                <td>Register your custom implementation with <code><em>EngineBuilder.filteredRecordHandler</em></code> method</td>
            </tr>
            <tr>
                <td><code><em>IgnoredRecordHandler</em></code></td>
                <td>Provide custom reporting strategy for ignored records</td>
                <td>Register your custom implementation with <code><em>EngineBuilder.ignoredRecordHandler</em></code> method</td>
            </tr>
            <tr>
                <td><code><em>RejectedRecordHandler</em></code></td>
                <td>Provide custom reporting strategy for rejected records</td>
                <td>Register your custom implementation with <code><em>EngineBuilder.rejectedRecordHandler</em></code> method</td>
            </tr>
            <tr>
                <td><code><em>ErrorRecordHandler</em></code></td>
                <td>Provide custom reporting strategy for error records</td>
                <td>Register your custom implementation with <code><em>EngineBuilder.errorRecordHandler</em></code> method</td>
            </tr>
            </tbody>
        </table>

        </div>
    </div>
</div>


            </div>

            <div class="col-md-3 sidebar-right">
                <!-- <div class="inner" data-spy="affix" data-offset-top="40" data-offset-bottom="300"> -->
<div class="inner">
<ul class="list-lg">
    <li class="sidebar-separator">About Easy Batch</li>
    <li >
        <a href="../index.html">Overview</a>
    </li>
    <li >
        <a href="../release-notes.html">Release notes</a>
    </li>
    <li class="sidebar-separator">Documentation</li>
    <li >
        <a href="../documentation/getting-started.html">Getting started</a>
    </li>
    <li >
        <a href="../documentation/architecture.html">Architecture</a>
    </li>
    <li  class="active" >
        <a href="../documentation/user-guide.html">User guide</a>
    </li>
    <li >
        <a href="../tutorials/index.html">Tutorials</a>
    </li>
    <li>
        <a href="../api/index.html" target="_blank">API docs</a>
    </li>
    <li >
        <a href="../documentation/faq.html">FAQs</a>
    </li>
    <li>
        <a href="https://speakerdeck.com/benas/easy-batch" target="_blank">Presentation slides</a>
    </li>
    <li class="sidebar-separator">Get involved</li>
    <li>
        <a href="https://github.com/EasyBatch/easybatch-framework" target="_blank">Source repository</a>
    </li>
    <li>
        <a href="https://github.com/EasyBatch/easybatch-framework/issues" target="_blank">Issue tracker</a>
    </li>
</ul>
</div>
            </div>
        </div>


    </div>
</div>
<!-- FOOTER -->
<footer id="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-3 col">
                <div class="block contact-block">
                    <h3>Documentation</h3>
                    <ul class="fa-ul">
                        <li><a href="../documentation/getting-started.html"><i class="fa fa-li fa-play"></i> Getting started</a></li>
                        <li><a href="../documentation/architecture.html"><i class="fa fa-li fa-flask"></i> Architecture</a></li>
                        <li><a href="../documentation/user-guide.html"><i class="fa fa-li fa-book"></i> User guide</a></li>
                    </ul>
                </div>
            </div>
            <div class="col-md-3 col">
                <div class="block contact-block">
                    <h3>Tutorials</h3>
                    <ul class="fa-ul">
                    <li><a href="../tutorials/index.html#basic"><i class="fa fa-li fa-star-o"></i> Basic tutorials</a></li>
                        <li><a href="../tutorials/index.html#intermediate"><i class="fa fa-li fa-star-half-o"></i> Intermediate tutorials</a></li>
                        <li><a href="../tutorials/index.html#advanced"><i class="fa fa-li fa-star"></i> Advanced Tutorials</a></li>
                    </ul>
                </div>
            </div>
            <div class="col-md-3 col">
                <div class="block contact-block">
                    <h3>Get involved</h3>
                    <ul class="fa-ul">
                        <li><a href="https://github.com/EasyBatch/easybatch-framework" target="_blank"><i class="fa fa-li fa-github"></i> Source repository</a></a></li>
                        <li><a href="https://github.com/EasyBatch/easybatch-framework/issues" target="_blank"><i class="fa fa-li fa-bug"></i> Issue tracker</a></li>
                        <li><a href="../documentation/faq.html"><i class="fa fa-li fa-question"></i> FAQs</a></li>
                    </ul>
                </div>
            </div>
            <div class="col-md-3 col">
                <div class="block contact-block">
                    <h3>Become a friend</h3>
                    <ul class="fa-ul">
                        <li><a href="https://twitter.com/intent/tweet?url=http://www.easybatch.org/&text=Easy%20Batch:%20batch%20processing%20with%20Java%20made%20easy&via=md_benhassine" target="_blank"><i class="fa fa-li fa-twitter"></i> Share it on Twitter</a></a></li>
                        <li><a href="https://plus.google.com/share?url=http://www.easybatch.org&text=Easy%20Batch:%20batch%20processing%20with%20Java%20made%20easy" target="_blank"><i class="fa fa-li fa-google-plus"></i> Share it on Google+</a></a></li>
                        <li><a href="https://github.com/EasyBatch/easybatch-framework" target="_blank"><i class="fa fa-li fa-heart"></i> Star it on GitHub</a></li>
                    </ul>
                </div>
            </div>

        </div>

        <br>
        <p class="back-top floatright" style="display: none;">
            <a href="#top"><span></span></a>
        </p>

        <div class="row">
            <div id="toplink"><a href="#top" class="top-link" title="Back to top">Back To Top <i class="fa fa-chevron-up"></i></a></div>

            <div class="subfooter">
                <br>
                <div class="col-md-4">
                    <p>&copy; Easy Batch is created by <a href="http://www.mahmoud-benhassine.fr" target="_blank">Mahmoud Ben Hassine</a> <br>
                    and the <a href="https://github.com/EasyBatch/easybatch-framework#awesome-contributors" target="_blank">awesome contributors</a></p>
                </div>
                <div class="col-md-4 text-center">
                    <iframe src="http://ghbtns.com/github-btn.html?user=EasyBatch&repo=easybatch-framework&type=watch&count=true"
                            allowtransparency="true" frameborder="0" scrolling="0" width="110" height="20"></iframe>
                    <iframe src="http://ghbtns.com/github-btn.html?user=EasyBatch&repo=easybatch-framework&type=fork&count=true"
                            allowtransparency="true" frameborder="0" scrolling="0" width="95" height="20"></iframe>
                </div>
                <div class="col-md-4">
                    <p class="footer-menu">Easy Batch is open source and is released <br> under the terms of the <a href="http://opensource.org/licenses/mit-license.php/" target="_blank">MIT license</a>.</p>
                </div>
            </div>
        </div>
    </div>
</footer>

<!--Scripts -->
<script src="../js/jquery.min.js"></script>
<script src="../js/jquery-migrate-1.2.1.min.js"></script> <!--Legacy jQuery support for quicksand plugin-->

<!-- Bootstrap JS -->
<script src="../js/bootstrap.min.js"></script>

<!--JS plugins-->
<script src="../js/plugins/clingify/jquery.clingify.min.js"></script>
<script src="../js/plugins/jRespond/jRespond.js"></script>

<!--Custom scripts mainly used to trigger libraries -->
<script src="../js/script.min.js"></script>
<script src="../js/scrolltotop.js"></script>
<script src="../js/homeScroll.js"></script>
<script src="../js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
</body>
</html>